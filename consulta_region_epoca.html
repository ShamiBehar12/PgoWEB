{% extends "base.html" %}

{% block content %}
<h2>Consulta por Región y Época</h2>

<form method="get" action="/peliculas/por_region_epoca">
    <label for="region">Región (País o lista de países):</label>
    <input type="text" id="region" name="region" placeholder="Ejemplo: Chile, Argentina, Japan" required>
    
    <label for="epoca_inicio">Año Inicio:</label>
    <input type="number" id="epoca_inicio" name="epoca_inicio" placeholder="Ejemplo: 1990" required>
    
    <label for="epoca_fin">Año Fin:</label>
    <input type="number" id="epoca_fin" name="epoca_fin" placeholder="Ejemplo: 2000" required>
    
    <button type="submit">Consultar</button>
</form>

{% if peliculas %}
    <h3>Resultados:</h3>
    <ul>
        {% for pelicula in peliculas %}
            <li>
                <strong>Título:</strong> {{ pelicula.titulo }}<br>
                <strong>Año:</strong> {{ pelicula.anio }}<br>
                <strong>País:</strong> {{ pelicula.pais }}<br>
                <strong>Género:</strong> {{ pelicula.genero }}<br>
                <strong>Director:</strong> {{ pelicula.director }}
            </li>
        {% endfor %}
    </ul>
{% else %}
    {% if peliculas is not none %}
        <p>No se encontraron resultados para la región "{{ region }}" y el período entre {{ epoca_inicio }} y {{ epoca_fin }}.</p>
    {% endif %}
{% endif %}
{% endblock %}
